# KG-RAG Model Implementation

This repository contains the implementation for Knowledge Graph-based Retrieval-Augmented Generation (KG-RAG) for answering multiple-choice questions (MCQs). The primary script, `run_mcq_qa.py`, contains the complete code, and all output files (Excel files) are located in the `Final Outputs` folder.

## Table of Contents

- [Environment Setup](#environment-setup)
- [Google API Key Configuration](#google-api-key-configuration)
- [Model Training](#model-training)
- [Model Evaluation](#model-evaluation)
- [Modes of Training](#modes-of-training)
- [Folder Structure](#folder-structure)

## Environment Setup

Follow these steps to set up the environment:

1. Clone the repository:
   ```bash
   git clone <repository-url>
   cd <repository-name>
   ```

2. Install dependencies:
   Follow steps 1-4 in the original README to set up the required environment. Ensure you have the necessary Python packages installed, as specified in the original instructions.

3. Set up virtual environment:
   ```bash
   python -m venv venv
   source venv/bin/activate  # On macOS/Linux
   venv\Scripts\activate  # On Windows
   ```

4. Install required packages:
   ```bash
   pip install -r requirements.txt
   ```

## Google API Key Configuration

To access the Google APIs for this project, update the API key in the `gpt_config.env` file:

1. Open `gpt_config.env`.
2. Replace the placeholder `YOUR_GOOGLE_API_KEY` with your actual Google API key:
   ```plaintext
   GOOGLE_API_KEY=your_api_key
   ```

## Model Training

To train the KG-RAG model, set the appropriate mode in `run_mcq_qa.py`. There are four modes:

- **Mode 0**: KG_RAG
- **Mode 1**: KG_RAG + JSON
- **Mode 2**: KG_RAG + Suffix
- **Mode 3**: KG_RAG + JSON + Suffix

To train the model, run:
```bash
python run_mcq_qa.py 
```
Replace `<mode_number>` with the mode you want to train.

## Model Evaluation

After training, evaluate the model by running the `evaluate_gemini.py` script:

```bash
python data/assignment_results/evaluate_gemini.py
```

### Evaluating Model Variants

To evaluate different model variants, change the `model_output_path` in `data/assignment_results/evaluate_gemini.py` to the desired model output path before running the evaluation script.

## Folder Structure

- **run_mcq_qa.py**: Main script containing the complete implementation for KG-RAG.
- **Final Outputs**: Contains Excel files with the results generated by each model variant.
- **data/assignment_results/evaluate_gemini.py**: Script for evaluating model performance.
- **gpt_config.env**: File to set your Google API key.

